package discordgo_test

import (
	"encoding/json"
	"github.com/iamdanielyin/discordgo"
	"testing"
)

func TestGuildCreate(t *testing.T) {
	data := []byte(`{"discovery_splash":null,"default_message_notifications":0,"premium_tier":0,"icon":null,"rules_channel_id":null,"member_count":3,"inventory_settings":null,"verification_level":0,"application_command_counts":{"1":21,"3":3},"embedded_activities":[],"lazy":true,"guild_scheduled_events":[],"safety_alerts_channel_id":null,"soundboard_sounds":[],"id":"1183656423306043402","premium_subscription_count":0,"afk_channel_id":null,"latest_onboarding_question_id":null,"public_updates_channel_id":null,"members":[{"user":{"username":"SupermateAI","public_flags":0,"id":"1183655560894230608","global_name":null,"display_name":null,"discriminator":"5714","bot":true,"avatar_decoration_data":null,"avatar":null},"roles":["1183656846377107522"],"premium_since":null,"pending":false,"nick":null,"mute":false,"joined_at":"2023-12-11T06:29:43.558172+00:00","flags":0,"deaf":false,"communication_disabled_until":null,"avatar":null}],"name":"SupermateAI","mfa_level":0,"premium_progress_bar_enabled":false,"max_video_channel_users":25,"owner_id":"1162610648203673642","roles":[{"version":1702276082711,"unicode_emoji":null,"tags":{},"position":0,"permissions_new":"559623605571137","permissions":104320577,"name":"@everyone","mentionable":false,"managed":false,"id":"1183656423306043402","icon":null,"hoist":false,"flags":0,"color":0},{"version":1702276135130,"unicode_emoji":null,"tags":{"bot_id":"936929561302675456"},"position":1,"permissions_new":"2147601472","permissions":117824,"name":"Midjourney Bot","mentionable":false,"managed":true,"id":"1183656643616067677","icon":null,"hoist":false,"flags":0,"color":0},{"version":1702276352350,"unicode_emoji":null,"tags":{"bot_id":"1183655560894230608"},"position":1,"permissions_new":"2147551232","permissions":67584,"name":"SupermateAI","mentionable":false,"managed":true,"id":"1183656846377107522","icon":null,"hoist":false,"flags":0,"color":0}],"threads":[],"presences":[],"nsfw":false,"afk_timeout":300,"description":null,"incidents_data":null,"stage_instances":[],"stickers":[],"features":[],"unavailable":false,"voice_states":[],"joined_at":"2023-12-11T06:29:43.558172+00:00","explicit_content_filter":0,"hub_type":null,"channels":[{"version":1702276082717,"type":4,"position":0,"permission_overwrites":[],"name":"ÊñáÂ≠óÈ¢ëÈÅì","id":"1183656423788396576","flags":0},{"version":1702276082724,"type":4,"position":0,"permission_overwrites":[],"name":"ËØ≠Èü≥È¢ëÈÅì","id":"1183656423788396578","flags":0},{"version":1702276082729,"type":0,"topic":null,"theme_color":null,"rate_limit_per_user":0,"position":0,"permission_overwrites":[],"parent_id":"1183656423788396576","nsfw":false,"name":"Â∏∏ËßÑ","last_message_id":"1187691719341395968","id":"1183656423788396579","icon_emoji":{"name":"üëã","id":null},"flags":0},{"version":1702276082742,"user_limit":0,"type":2,"topic":null,"theme_color":null,"status":null,"rtc_region":null,"rate_limit_per_user":0,"position":0,"permission_overwrites":[],"parent_id":"1183656423788396578","nsfw":false,"name":"Â∏∏ËßÑ","last_message_id":null,"id":"1183656423788396580","icon_emoji":{"name":"üéôÔ∏è","id":null},"flags":0,"bitrate":64000}],"home_header":null,"splash":null,"max_members":500000,"system_channel_id":"1183656423788396579","max_stage_video_channel_users":50,"region":"deprecated","nsfw_level":0,"large":false,"system_channel_flags":0,"banner":null,"application_id":null,"version":1702276082770,"preferred_locale":"en-US","emojis":[],"vanity_url_code":null}`)
	var gc discordgo.GuildCreate
	if err := json.Unmarshal(data, &gc); err != nil {
		t.Fatal(err)
	}
}
